(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(5970)}])},5970:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(5893),r=a(9008),s=a.n(r),l=a(7294);function i(){let[e,t]=(0,l.useState)(""),[a,r]=(0,l.useState)(""),i=(0,l.useRef)(null),[o,c]=(0,l.useState)(),d=e=>{let a=JSON.stringify(e),n=window.gradecmap(a),r=JSON.parse(n);r.error?t(r.message):(t(""),c(r.data))},u=e=>{var n,r;e.preventDefault();let s=(null===(n=i.current)||void 0===n?void 0:n.files)&&(null===(r=i.current)||void 0===r?void 0:r.files[0]);if(!s&&!a)return t("Please select a file or enter a URL.");try{s||new URL(a)}catch(e){return t("Please enter a valid URL (starts with https://).")}if(s){let e=new FileReader;e.onload=()=>{var t,a;let n=null!==(a=null===(t=e.result)||void 0===t?void 0:t.split(",").pop())&&void 0!==a?a:"",r=s.name.split(".").pop();d({file:n,format:"txt"===r?0:1})},e.readAsDataURL(s)}else{let e=a.match(/([0-9A-Z]+\-[0-9A-Z]+\-[0-9A-Z]+)/);if(!e)return t("Please enter a CMAP link.");fetch("https://cmapscloud.ihmc.us/resources/id=".concat(e[0],"?cmd=get.cmap.v3")).then(e=>e.arrayBuffer()).then(e=>{let t=new Blob([e],{type:"application/octet-binary"}),a=new FileReader;a.onload=function(e){var t,n;let r=null!==(n=null===(t=a.result)||void 0===t?void 0:t.split(",").pop())&&void 0!==n?n:"";d({file:r,format:1})},a.readAsDataURL(t)}).catch(()=>{t("Failed to get information from the URL.")})}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(s(),{children:[(0,n.jsx)("title",{children:"Concept Map Grader"}),(0,n.jsx)("meta",{name:"description",content:"Concept map grading tool"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"})]}),(0,n.jsxs)("main",{className:"container py-3",children:[(0,n.jsx)("h1",{children:"Concept Map Grader"}),(0,n.jsxs)("p",{children:["You can use either the CmapTools desktop app or the CmapCloud web app to check your score. For desktop app users, select"," ",(0,n.jsx)("b",{children:"Export > Cmap Outline"}),". For web app users, select"," ",(0,n.jsx)("b",{children:"Export to CXL"})," on the left-hand side. Alternatively, web app users can click ",(0,n.jsx)("b",{children:"Open in Cmap Viewer"})," and provide the url without downloading anything."]}),(0,n.jsxs)("form",{onSubmit:u,children:[(0,n.jsxs)("label",{htmlFor:"file",children:[(0,n.jsx)("code",{children:".cxl"})," file or Concept Map Outline ",(0,n.jsx)("code",{children:".txt"})," file"]}),(0,n.jsx)("input",{type:"file",accept:".txt,.cxl,.xml",className:"form-control mb-3",ref:i,id:"file",onChange:e=>{e.target.files&&e.target.files[0]&&r("")}}),(0,n.jsx)("label",{htmlFor:"url",children:"CmapCloud Concept Map URL"}),(0,n.jsx)("input",{type:"url",className:"form-control mb-3",value:a,placeholder:"https://cmapscloud.ihmc.us/...",id:"url",onChange:e=>{r(e.target.value),i.current&&(i.current.value="")}}),(0,n.jsx)("button",{type:"submit",className:"btn btn-dark",children:"Grade Concept Map"})]}),!e&&!!o&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("hr",{}),(0,n.jsx)("h3",{children:"Results"}),(0,n.jsxs)("div",{className:"input-group mt-3",children:[(0,n.jsx)("span",{className:"input-group-text",children:"Node Count"}),(0,n.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:o.nc})]}),(0,n.jsxs)("div",{className:"input-group mt-3",children:[(0,n.jsx)("span",{className:"input-group-text",children:"Connection Count"}),(0,n.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:o.nl})]}),(0,n.jsxs)("div",{className:"input-group mt-3",children:[(0,n.jsx)("span",{className:"input-group-text",children:"Highest Hierarchy Length"}),(0,n.jsx)("input",{type:"text",className:"form-control",readOnly:!0,value:o.hh})]}),(0,n.jsx)("h4",{className:"mt-3",children:"Highest Hierarchy"}),(0,n.jsx)("textarea",{className:"form-control",readOnly:!0,style:{minHeight:200},value:o.longestPath.reduce((e,t,a,n)=>0===a?t:a%2==1?e+"\n	("+t+")":e+" "+t,"")})]}),e&&(0,n.jsx)("div",{className:"alert alert-danger",role:"alert",children:e}),(0,n.jsxs)("p",{className:"text-muted small mt-3",children:["Privacy Notice: Your concept map information does ",(0,n.jsx)("b",{children:"not"})," leave your device. Clicking ",(0,n.jsx)("i",{children:"Grade Concept Map"})," will not submit your concept map for grading. If you use the CmapCloud URL option, the concept map is downloaded to your device and then graded."]}),(0,n.jsxs)("p",{className:"text-muted small mt-3",children:["Please submit"," ",(0,n.jsx)("a",{href:"https://github.com/russellsteadman/cmap/issues/new",target:"_blank",rel:"noreferrer",children:"bugs and accessibility issues"})," ","if you find any. This requires a GitHub account, which is free and easy to set up."]}),(0,n.jsxs)("p",{className:"text-muted small",children:["Copyright \xa9 2023 The Ohio State University. See"," ",(0,n.jsx)("a",{href:"https://github.com/russellsteadman/cmap/blob/main/LICENSE",target:"_blank",rel:"noreferrer",children:"LICENSE"})," ","file."]})]})]})}},9008:function(e,t,a){e.exports=a(3121)}},function(e){e.O(0,[774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);